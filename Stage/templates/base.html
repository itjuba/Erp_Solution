<!doctype html>
<html lang="en">
{% load static%}

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
     <link rel="apple-touch-icon" sizes="76x76" href="../assets/img/apple-icon.png">
  <link rel="icon" type="image/png" href="../assets/img/favicon.png">
  <link rel="stylesheet" href="http://www.w3schools.com/lib/w3.css">
    <script src="https://cdn.jsdelivr.net/npm/js-cookie@beta/dist/js.cookie.min.js"></script>
      <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
<!--  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.js">-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>

<!--  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js">-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">
  <link
  href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.3.0/css/font-awesome.css"
  rel="stylesheet"  type='text/css'>
  <!-- CSS Files -->
  <link href="{% static 'css/material-dashboard.css'%}" rel="stylesheet" />
    <title>SH ERP</title>
  <style>

  .blink {
    text-decoration: blink;
    animation-name: blinker;
    animation-duration: 0.6s;
    animation-iteration-count:infinite;
    animation-timing-function:ease-in-out;
    animation-direction: alternate;
    background-color: #9c27b0;
  }

  .nn {
  color : black ;
  font-weight: bold;
  }
  .blink_me {
  animation: blinker 1s linear infinite;
}

@keyframes blinker {
  50% {
    opacity: 0;
  }
}
  .container {
  display: inline-block;
  cursor: pointer;
}

.bar1, .bar2, .bar3 {
  width: 35px;
  height: 5px;
  background-color: #9c27b0;
  margin: 6px 0;
  transition: 0.4s;
}

.change .bar1 {
  -webkit-transform: rotate(-45deg) translate(-9px, 6px);
  transform: rotate(-45deg) translate(-9px, 6px);
}

.change .bar2 {opacity: 0;}

.change .bar3 {
  -webkit-transform: rotate(45deg) translate(-8px, -8px);
  transform: rotate(45deg) translate(-8px, -8px);
}

  .left{
  margin-left : 15px ;
  }

  .cardd {
    width:1200px;
    resize:both;
    overflow:auto;
}
    .active  {
    background-color : #9c27b0;
    }
  .switch {
  position: relative;
  display: inline-block;
  width: 60px;
  height: 34px;
}

/* Hide default HTML checkbox */
.switch input {
  opacity: 0;
  width: 0;
  height: 0;
}

/* The slider */
.slider {
  position: absolute;
  cursor: pointer;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: #9c27b0;
  -webkit-transition: .4s;
  transition: .4s;
}

.slider:before {
  position: absolute;
  content: "";
  height: 26px;
  width: 26px;
  left: 4px;
  bottom: 4px;
  background-color: white;
  -webkit-transition: .4s;
  transition: .4s;
}

input:checked + .slider {
  background-color:  #9c27b0;
}

input:focus + .slider {
  box-shadow: 0 0 1px #9c27b0;
}

input:checked + .slider:before {
  -webkit-transform: translateX(26px);
  -ms-transform: translateX(26px);
  transform: translateX(26px);
}

/* Rounded sliders */
.slider.round {
  border-radius: 34px;
}

.slider.round:before {
  border-radius: 50%;
}

  </style>
  <script src="https://code.iconify.design/1/1.0.5/iconify.min.js"></script>
</head>
<body>

</header>
<main role="main">
  <div class="wrapper ">
    <div class="sidebar show attig collapse"  id="sidebar" data-color="purple" data-background-color="white" data-image="../assets/img/sidebar-1.jpg">
      <!--
        Tip 1: You can change the color of the sidebar using: data-color="purple | azure | green | orange | danger"

        Tip 2: you can also add an image using data-image tag
    -->
      <div class="logo"><img src="{% static 'images/nadjib.png'%}"  style="width : 200px;height:107px;margin-left:20px" class="simple-text logo-normal">
<!--          SH Informatique-->
        </img></div>
      <div class="sidebar-wrapper">
        <ul class="nav">
          <li class="nav-item ">
            <a class="nav-link" href="{% url 'homme' %}">
              <i class="material-icons wh" style="" >dashboard</i>
              <p style="">Dashboard</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="#">
              <i class="material-icons" style="" >person</i>
              <p>Profile Utilisateurs</p>
            </a>
          </li>
             <li class="nav-item  ">
            <a class="nav-link dropdown-btn" data-toggle="collapse" data-target="#cl" href="#">
              <i class="material-icons" style="color : black;" >content_paste</i>
              <p>Gestion clients  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; <span class="iconify" data-icon="zmdi-caret-down-circle" data-inline="false"></span></p>
            </a>
          </li>
          <div id="cl" class="show">
          <li class="nav-item  ">
            <a class="nav-link" href="{% url 'client'%}">
              <i class="material-icons" style="" >content_paste</i>

              <p>Liste clients</p>
            </a>
          </li>
                <li class="nav-item  ">
            <a class="nav-link" href="{% url 'contact'%}">
              <i class="material-icons" style="" >content_paste</i>

              <p>Contacts clients</p>
            </a>
          </li>
            </div>
               <li class="nav-item  ">
            <a class="nav-link "data-toggle="collapse" data-target="#fournis"  href="#">
              <i class="material-icons" style="color : black" >content_paste</i>

              <p>Gestion fournisseurs &nbsp; <span class="iconify" data-icon="zmdi-caret-down-circle" data-inline="false"></span></p>
            </a>
          </li>
          <div id="fournis" class="show">
          <li class="nav-item ">
            <a class="nav-link" href="{% url 'fournis'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Liste fournisseurs</p>
            </a>
          </li>
             <li class="nav-item ">
            <a class="nav-link" href="{% url 'Fournis_contact'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Contacts fournisseurs</p>
            </a>
          </li>
            </div>
            <li class="nav-item ">
            <a class="nav-link" href="{% url 'article'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Articles</p>
            </a>
            </li>
                <li class="nav-item ">
            <a class="nav-link" href="{% url 'view'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Gestion achats</p>
            </a>
          </li>
                  <li class="nav-item ">
            <a class="nav-link" href="{% url 'commande'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Gestion commandes</p>
            </a>
          </li>
                  <li class="nav-item ">
            <a class="nav-link" href="{% url 'facture'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Gestion factures</p>
            </a>
          </li>
                  <li class="nav-item ">
            <a class="nav-link" href="{% url 'payements'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Gestion payements</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="{% url 'charge_view'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Gestion charges</p>
            </a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="{% url 'transaction_view'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Transactions bancaires</p>
            </a>
          </li>
        
          <li class="nav-item ">
            <a class="nav-link" href="{% url 'caisse'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Gestion caisse</p>
            </a>
          </li>

          <li class="nav-item ">
            <a class="nav-link" href="{% url 'caisse'%}">
              <i class="material-icons" style="" >content_paste</i>
              <p>Gestion caisse</p>
            </a>
          </li>
          
        </ul>
      </div>
    </div>
    <div class="main-panel">
      <!-- Navbar -->
      <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top " id="navbarr">
        <div class="container-fluid">
          <div class="navbar-wrapper">
            <a class="navbar-brand" href="javascript:;"></a>
          </div>
          <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
            <span class="navbar-toggler-icon icon-bar"></span>
          </button>
          <div class="collapse navbar-collapse justify-content-end">
            <form class="navbar-form">
              <div class="input-group no-border">

                <input type="text" value="" id="user-input" class="form-control" placeholder="Search...">
                <button type="submit"   class="btn btn-white btn-round btn-just-icon">
                  <i class="material-icons" id="search-icon" >search</i>
                  <div class="ripple-container"></div>
                </button>
              </div>
            </form>
            <ul class="navbar-nav">
              <li class="nav-item">
                <a class="nav-link" href="javascript:;">
                  <i class="material-icons">Tableau de bord</i>
                  <p class="d-lg-none d-md-block">
                    Stats
                  </p>
                </a>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="http://example.com" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">notifications</i>
                  <span class="notification">5</span>
                  <p class="d-lg-none d-md-block">
                    Some Actions
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownMenuLink">
                  <a class="dropdown-item" href="#">Mike John responded to your email</a>
                  <a class="dropdown-item" href="#">You have 5 new tasks</a>
                  <a class="dropdown-item" href="#">You're now friend with Andrew</a>
                  <a class="dropdown-item" href="#">Another Notification</a>
                  <a class="dropdown-item" href="#">Another One</a>
                </div>
              </li>
              <li class="nav-item dropdown">
                <a class="nav-link" href="javascript:;" id="navbarDropdownProfile" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <i class="material-icons">person</i>
                  <p class="d-lg-none d-md-block">
                    Account
                  </p>
                </a>
                <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdownProfile">
                  <a class="dropdown-item" href="#">Profile</a>
                  <a class="dropdown-item" href="#">Settings</a>
                  <div class="dropdown-divider"></div>
                  <form  method="POST" action="{% url 'logout' %}">
                     {% csrf_token %}
                    <button class="dropdown-item" type="submit" name="submit">Log out</button>
                    </form>
                </div>
              </li>
              <li>


              </li>
            </ul>
          </div>
        </div>


      </nav>

    {% block content%}


    {% endblock%}

</main>
<script src="{% static 'js/core/jquery.min.js'%}"></script>
  <script src="{% static 'js/core/popper.min.js'%}"></script>
  <script src="{% static 'js/core/bootstrap-material-design.min.js'%}"></script>
  <script src="{% static 'js/plugins/perfect-scrollbar.jquery.min.js'%}"></script>
  <!-- Plugin for the momentJs  -->
  <script src="{%  static 'js/plugins/moment.min.js'%}"></script>
  <!--  Plugin for Sweet Alert -->
  <script src="{% static 'js/plugins/sweetalert2.js'%}"></script>
  <!-- Forms Validations Plugin -->
  <script src="{% static 'js/plugins/jquery.validate.min.js'%}"></script>
  <!-- Plugin for the Wizard, full documentation here: https://github.com/VinceG/twitter-bootstrap-wizard -->
  <script src="{% static 'js/plugins/jquery.bootstrap-wizard.js'%}"></script>
  <!--	Plugin for Select, full documentation here: http://silviomoreto.github.io/bootstrap-select -->
  <script src="{%  static 'js/plugins/bootstrap-selectpicker.js'%}"></script>
  <!--  Plugin for the DateTimePicker, full documentation here: https://eonasdan.github.io/bootstrap-datetimepicker/ -->
  <script src="{% static 'js/plugins/bootstrap-datetimepicker.min.js'%}"></script>
  <!--  DataTables.net Plugin, full documentation here: https://datatables.net/  -->
  <script src="{% static 'js/plugins/jquery.dataTables.min.js'%}"></script>
  <!--	Plugin for Tags, full documentation here: https://github.com/bootstrap-tagsinput/bootstrap-tagsinputs  -->
  <script src="{% static 'js/plugins/bootstrap-tagsinput.js'%}"></script>
  <!-- Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
  <script src="{% static 'js/plugins/jasny-bootstrap.min.js'%}"></script>
  <!--  Full Calendar Plugin, full documentation here: https://github.com/fullcalendar/fullcalendar    -->
  <script src="{% static 'js/plugins/fullcalendar.min.js'%}"></script>
  <!-- Vector Map plugin, full documentation here: http://jvectormap.com/documentation/ -->
  <script src="{% static 'js/plugins/jquery-jvectormap.js'%}"></script>
  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="{% static 'js/plugins/nouislider.min.js'%}"></script>
  <!-- Include a polyfill for ES6 Promises (optional) for IE11, UC Browser and Android browser support SweetAlert -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/core-js/2.4.1/core.js"></script>
  <!-- Library for adding dinamically elements -->
  <script src="{% static 'js/plugins/arrive.min.js'%}"></script>
  <!--  Google Maps Plugin    -->
  <script src="https://maps.googleapis.com/maps/api/js?key=YOUR_KEY_HERE"></script>
  <!-- Chartist JS -->
  <script src="{% static 'js/plugins/chartist.min.js'%}"></script>
  <!--  Notifications Plugin    -->
  <script src="{% static 'js/plugins/bootstrap-notify.js'%}"></script>
  <!-- Control Center for Material Dashboard: parallax effects, scripts for the example pages etc -->
  <script src="{% static 'js/material-dashboard.js'%}" type="text/javascript"></script>

<script src="{% static 'js/add_form_button.js' %}"></script>
<script src="{% static 'asynch_filtre.js' %}">
</script>
  <script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      md.initDashboardPageCharts();

    });
  </script>







  {% block javascript %}
    {% endblock %}

<script src="{% static 'js/responsive_sidebare_code.js' %}"></script>
<script src="{% static 'js/button_href_color.js' %}"></script>
<script src="{% static 'js/sidebar_animation.js' %}"></script>
<script src="{% static 'js/back_button.js' %}"></script>
<script src="{% static 'js/montant_check_step2_ach.js' %}"></script>
<script src="{% static 'js/montant_cookie.js' %}"></script>
<script src="{% static 'js/button-href-delete.js' %}"></script>
<!--<script src="{% static 'js/tva.js' %}"></script>-->
<script src="{% static 'js/close_button.js' %}"></script>


<!--<script type="text/javascript">-->
<!--    $(document).ready(function() {-->
<!--        $("#add").click(function() {-->
<!--          $('#mytable tbody>tr:last').clone(true).insertAfter('#mytable tbody>tr:last');-->
<!--          return false;-->
<!--        });-->
<!--    });-->
<!--</script>-->
<!--<script type="text/javascript">-->
<!--    $(document).ready(function() {-->
<!--        $("#add").click(function() {-->
<!--          $('#book-table tbody>tr:last').clone(true).insertAfter('#book-table tbody>tr:last');-->
<!--          return false;-->
<!--        });-->
<!--    });-->
<!--</script>-->

<script type="text/javascript">
$(document).ready(function () {

    if (localStorage.getItem("my_app_name_here-quote-scroll") != null) {
        $(window).scrollTop(localStorage.getItem("my_app_name_here-quote-scroll2"));
    }

    $(window).on("scroll", function() {
        localStorage.setItem("my_app_name_here-quote-scroll2", $(window).scrollTop());
    });

  });
</script>


<script type="text/javascript">
$(document).ready(function () {

    if (localStorage.getItem("my_app_name_here-quote-scroll") != null) {
        $('.sidebar-wrapper').scrollTop(localStorage.getItem("my_app_name_here-quote-scroll"));
        console.log('1');
    }

    $('.sidebar-wrapper').on("scroll", function() {
        localStorage.setItem("my_app_name_here-quote-scroll", $('.sidebar-wrapper').scrollTop());
        console.log('2');
    });

  });
</script>


<script>
  $(document).ready(function(){
 $('#add_test').click(function() {
 console.log('clicked')
 var form_idx = $('#id_form-TOTAL_FORMS').val();

   if(form_idx <=0){
 return  window.location.href=window.location.href;
 }
 $('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
 var x = $('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
 var commande = $('#id_form-0-Command').val()
 console.log(commande);
 console.log(form_idx)

 $('#book-table > tbody:last').append('<tr><td><input id="id_form-'+form_idx+'-Command"  type="hidden"  class="form-control"  type="text" name="form-'+form_idx+'-Command" required="true" value='+commande+' ></input><input id="id_form-'+form_idx+'-Designation"  class="form-control"  type=text name="form-'+form_idx+'-Designation" required=true"></td><td><input id="id_form-'+form_idx+'-Prix_Unitaire" class="pr form-control" type=text name="form-'+form_idx+'-Prix_Unitaire" required=true"></td><td><input id="id_form-'+form_idx+'-Quantite" class="qu l form-control"  type=text name="form-'+form_idx+'-Quantite"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_HT"   class="mt form-control"  type=text name="form-'+form_idx+'-Montant_HT"  required=true"><td><input  class="tvas form-control" type="text" name="form-0-tva" id="id_form-0-tva"></td></td><td><input id="id_form-'+form_idx+'-Montant_TVA"  class="mt_tva form-control"  type=text name="form-'+form_idx+'-Montant_TVA"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_TTC"  class="ttc form-control"  type=text name="form-'+form_idx+'-Montant_TTC"  required=true"></td></tr>');
});
   });
</script>

<script>
  $(document).ready(function(){
 $('#add').click(function() {
 console.log('clicked')
 var form_idx = $('#id_form-TOTAL_FORMS').val();

   if(form_idx <=0){
 return  window.location.href=window.location.href;
 }
 $('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
 var x = $('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
 var commande = $('#id_form-0-Command').val()
 console.log(commande);
 console.log(form_idx)

 $('#book-table > tbody:last').append('<tr><td><input id="id_form-'+form_idx+'-Designation"  class="form-control"  type=text name="form-'+form_idx+'-Designation" required=true"></td><td><input id="id_form-'+form_idx+'-Prix_Unitaire" class="pr form-control" type=text name="form-'+form_idx+'-Prix_Unitaire" required=true"></td><td><Select id="id_form-'+form_idx+'-Command"   class="form-control"  type=text name="form-'+form_idx+'-Command" required=true"><option value='+commande+' selected="">'+commande+' </option></Select></td><td><input id="id_form-'+form_idx+'-Quantite" class="qu l form-control"  type=text name="form-'+form_idx+'-Quantite"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_HT"   class="form-control"  type=text name="form-'+form_idx+'-Montant_HT"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_TVA"  class="form-control"  type=text name="form-'+form_idx+'-Montant_TVA"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_TTC"  class="form-control"  type=text name="form-'+form_idx+'-Montant_TTC"  required=true"></td><td><input type="checkbox" name="form-'+form_idx+'-DELETE" id="id_form-'+form_idx+'-DELETE"></td></tr>');
});
   });
</script>
<script>
   $(document).ready(function(){
  $('#add_two').click(function() {
  console.log('clicked')
	var form_idx1 = $('#id_form-TOTAL_FORMS').val();
		if(form_idx1 <=0){
	return  window.location.href=window.location.href;
	}
	$('#id_form-TOTAL_FORMS').val(parseInt(form_idx1) + 1);
	var x = $('#id_form-TOTAL_FORMS').val(parseInt(form_idx1) + 1);
<!--	var article = $('#id_form-0-Id_Article').val()-->
	var achats = $('#id_form-0-Id_Achats').val()
<!--	console.log(article);-->
    var article =  $( "#id_form-0-Id_Article option:selected").text()
    var article1 =  $( "#id_form-0-Id_Article option:selected").val()
<!--	console.log(form_idx1)-->
	var data = $("#id_form-0-Id_Article").clone()
	console.log(data)
<!--    $("#id_form-1-Id_Article").html(data);-->
	$('#mytable > tbody:last').append('<tr><td><input id="id_form-'+form_idx1+'-Id_Achats" class="form-control" type="hidden" name="form-'+form_idx1+'-Id_Achats"  value='+achats+'  required=true"></input><Select id="id_form-'+form_idx1+'-Id_Article" class="form-control" type=text name="form-'+form_idx1+'-Id_Article" required=true"><option value='+article1+' selected="">'+article+'</option></Select></td><td><input id="id_form-'+form_idx1+'-Prix_Unitaire" class="na form-control" type=text name="form-'+form_idx1+'-Prix_Unitaire" required=true"></td><td><input id="id_form-'+form_idx1+'-Quantite" class="qu l form-control"  type=text name="form-'+form_idx1+'-Quantite"  required=true"></td><input type="checkbox" name="form-'+form_idx1+'-DELETE" id="id_form-'+form_idx1+'-DELETE"></td></tr>');
	var options = $('#id_form-0-Id_Article').html();
	id = "#id_form-" +form_idx1+"-Id_Article"
	console.log(id);
	for (var x=0;x<=form_idx1;x++) {
	console.log(x);
   $(id).html(options);
   }
});


    });
</script>


<script>
   $(document).ready(function(){
  $('#add_three').click(function() {
    console.log('clicked')
	var form_idx1 = $('#id_form-TOTAL_FORMS').val();


	$('#id_form-TOTAL_FORMS').val(parseInt(form_idx1) + 1);
	var x = $('#id_form-TOTAL_FORMS').val(parseInt(form_idx1) + 1);
	var achats = $('#id_form-0-Id_Achats').val()
<!--    var article =  $( "#id_form-0-Id_Article option:selected").text()-->
<!--    var article1 =  $( "#id_form-0-Id_Article option:selected").val()-->
<!--	var data = $("#id_form-0-Id_Article").clone()-->
<!--	console.log(data)-->
	$('#table2 > tbody:last').append('<tr><td><Select id="id_form-'+form_idx1+'-Id_Achats" class="form-control" type=text name="form-'+form_idx1+'-Id_Achats" required=true"><option value='+achats+' selected="">'+achats+'</option></Select></td><td><Select id="id_form-'+form_idx1+'-Id_Article" class="form-control" type=text name="form-'+form_idx1+'-Id_Article"><option value=""></option></Select></td><td><input id="id_form-'+form_idx1+'-Prix_Unitaire" class="na form-control" type=text name="form-'+form_idx1+'-Prix_Unitaire" ></td><td><input id="id_form-'+form_idx1+'-Quantite" class="qu l form-control"  type=text name="form-'+form_idx1+'-Quantite" ></td><td><input type="checkbox" id="id_form-'+form_idx1+'-DELETE"  name="form-'+form_idx1+'-DELETE"></td></tr>');
	var options = $('#id_form-0-Id_Article').html();
	id = "#id_form-" +form_idx1+"-Id_Article"
	console.log(id);
	for (var x=0;x<form_idx1;x++) {
	console.log(x);
   $(id).html(options);
   }
});


    });
</script>

<script>
   $(document).ready(function(){
  $('#add_four').click(function() {
  console.log('clicked')
	var form_idx = $('#id_form-TOTAL_FORMS').val();
	$('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
	var x = $('#id_form-TOTAL_FORMS').val(parseInt(form_idx) + 1);
	var commande = $('#id_form-0-Command').val()
	console.log(commande);
	console.log(form_idx)

	$('#tablefour> tbody:last').append('<tr><td><input id="id_form-'+form_idx+'-Designation"  class="form-control"  type=text name="form-'+form_idx+'-Designation" required=true"></td><td><input id="id_form-'+form_idx+'-Prix_Unitaire" class="na form-control" type=text name="form-'+form_idx+'-Prix_Unitaire" required=true"></td><td><Select id="id_form-'+form_idx+'-Command"   class="form-control"  type=text name="form-'+form_idx+'-Command" required=true"><option value='+commande+' selected="">'+commande+' </option></Select></td><td><input id="id_form-'+form_idx+'-Quantite" class="qu l form-control"  type=text name="form-'+form_idx+'-Quantite"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_HT"   class="form-control"  type=text name="form-'+form_idx+'-Montant_HT"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_TVA"  class="form-control"  type=text name="form-'+form_idx+'-Montant_TVA"  required=true"></td><td><input id="id_form-'+form_idx+'-Montant_TTC"  class="form-control"  type=text name="form-'+form_idx+'-Montant_TTC"  required=true"></td><td><input type="checkbox" name="form-'+form_idx+'-DELETE" id="id_form-'+form_idx+'-DELETE"></td></tr>');
});
    });
</script>

<script>
 $(document).ready(function(){
$("#DeleteButton").on("click", function() {
   console.log('yes');
   $('#mytable tr:last').remove();
    $('#id_form-TOTAL_FORMS').val( $('#id_form-TOTAL_FORMS').val()-1);
});
});

</script>
<script>
 $(document).ready(function(){
$("#DeleteButton").on("click", function() {
   console.log('book table here !');
   var ttc = $('#id_Montant_TTC').val()
   var tva  =$('#id_Montant_TVA').val()
   var ht =$('#id_Montant_HT').val()
  console.log(ht)

  s_ttc =$('#book-table tr:last').find('.ttc').val()
  s_tva =$('#book-table tr:last').find('.mt_tva').val()
  s_ht =$('#book-table tr:last').find('.mt').val()
  console.log(s_ht)
  console.log((ttc-s_ttc).toFixed(2))
  console.log((tva-s_tva).toFixed(2))
  console.log((ht-s_ht).toFixed(2))
  $('#id_Montant_TTC').val((parseFloat($('#id_Montant_TTC').val()) - parseFloat($('#book-table tr:last').find('.ttc').val())).toFixed(2))
  $('#id_Montant_TVA').val((parseFloat($('#id_Montant_TVA').val()) - parseFloat($('#book-table tr:last').find('.mt_tva').val())).toFixed(2))
  $('#id_Montant_HT').val((parseFloat($('#id_Montant_HT').val()) - parseFloat($('#book-table tr:last').find('.mt').val())).toFixed(2))

  if($('#id_Montant_HT').val() < 0 ){
    $('#id_Montant_HT').val(0)
  }  if($('#id_Montant_TVA').val() < 0 ){
    $('#id_Montant_TVA').val(0)
  }  if($('#id_Montant_TTC').val() < 0 ){
    $('#id_Montant_TTC').val(0)
  }
  $('#book-table tr:last').remove();
});
});

</script>
<script>
 $(document).ready(function(){
$("#DeleteButton").on("click", function() {
   console.log('yes');
   $('#table2 tr:last').remove();
});
});

</script>
<script>
 $(document).ready(function(){
$("#DeleteButton").on("click", function() {
   console.log('yes');
   $('#tablefour tr:last').remove();
});
});

</script>



<script>
var $tbodys = $("#tablefour tbody")

$(document).ready(function() {
  $("#done1").on("click", function() {
  console.log('nadjib');
    var $lasts = $tbodys.find('tr:last');
    if ($lasts.is(':first-child')) {
      console.log('not last');
    } else {
       var emptyInputs = $lasts.find("input[type=text]").filter(function() {
        return this.value === "";
      });
      var inputss = $lasts.find("select");
      if (inputss.val() == "" && emptyInputs && emptyInputs.length == 6) {
        console.log('empty');
        $lasts.remove()
        $('#id_form-TOTAL_FORMS').html($('#id_form-TOTAL_FORMS').val()-1);
        $('#id_form-TOTAL_FORMS').attr("value",$('#id_form-TOTAL_FORMS').val()-1);
      } else {
        console.log("Not empty");
      }
      console.log('yes last !');
    }
  });
});
</script>

<script>
  $(document).ready(function() {

    $(document).on('keyup', ".tvas", function () {
       var mt_tva = 0
       var mt_ttc= 0
       var mt_ht =0
      //console.log($('.mt').val())
      $('.mt').each(function (ind) {
       // console.log('here')
        var tva = $('.tvas').eq(ind).val();
        //console.log(tva);
        var mt = $(this).val();
        console.log(mt);
        // if (!tva || !mt) {
        //   md.showNotificationDelete('bottom', 'right', 'warning', ' Designation : Verifier les Champs vide  ! ..');
        //
        // }
        tva = (isNaN(tva) || (tva == '')) ? 0 : parseFloat(tva);
        mt = (isNaN(mt) || (mt == '')) ? 0 : parseFloat(mt);
        console.log('tvvv = '+ tva)

        var tv = (tva * mt / 100)
        mt_tva = parseFloat(mt_tva) + parseFloat(tv)

        mt_ht = parseFloat(mt_ht + mt)
        mt_ttc = parseFloat(mt_tva + mt_ht)
        console.log('tva = ' + mt_tva)
        console.log('ht  = ' + mt_ht)
        console.log('ttc  = ' + mt_ttc)
        console.log(mt_ttc)
      $('.mt_tva').eq(ind).val(tv)
      $('.ttc').eq(ind).val(parseFloat(tv+mt))
       $('#id_Montant_HT').val(mt_ht)
        $('#label1').addClass('is-focused');
        $('#label2').addClass('is-focused');
          $('#id_Montant_TVA').val(mt_tva)
        $('#label3').addClass('is-focused');
        $('#id_Montant_TTC').val(mt_ttc)

      });
    });
  });
</script>
<script>
  $(document).ready(function() {

    $(document).on('keyup', ".qu", function () {
      var t = 0;
      //console.log($('.mt').val())
      $('.qu').each(function (ind) {
        // console.log('here')
        var price = $('.pr').eq(ind).val();
        var quantite = $(this).val()
       $('.mt').eq(ind).val(price*quantite)
      });
    });
  });
</script>


</body>

</html>